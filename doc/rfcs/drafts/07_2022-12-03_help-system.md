# Documentation helpers

## Overview

`glaze` doesn't currently provide any examples of usage, and in general 
has a pretty poor documentation system.

Keeping in line with the idea of using glaze as the laboratory for ideas
that the glazed library then makes easily accessible for other developers,
I want to build a way to make it easy to build rich help documentation.

I want to base this on the wolfram mathematica documentation system,
which is the best one I know so far.

## Overall function

The idea is that a developer can easily provide documentation both by
loading it from markdown files (that can be bundled inside the go binary)
or by providing it through passing data structures to the library.

Then, the library provides different easy ways to serve that documentation:

- outputting as part of the command line interface (maybe in a few different ways as well?)
- render markdown documents and present them with glow
- present them as a standalone webserver (godoc style?). This might be a standalone project, tbh.

### Embedding files inside go binaries

The go standard way since 1.16 of bundling static resources inside a binary
is to use the `embed` package, see:

https://stackoverflow.com/questions/13904441/whats-the-best-way-to-bundle-static-resources-in-a-go-program

The template package can directly render files out of embedded resources.

There is also this:
- https://github.com/gobuffalo/packr

But it says to migrate to `embed` anyway.


## Data schema

Here is the different parts of the wolfram documentation:

### Landing page

- landing page with high level topics. This could be the output of `glazed help`
- the landing page also has 2 sections called "workflows" and "resources"

So maybe we can make a hierarchy of sections. The landing page itself is the toplevel
section for everything.

Clicking on one of these sections actually opens a dropdown list with many topics in that
subsection. This is maybe something we could present... In fact, how are we going to link
sections to command line options.

### Linking the data schema to command line help

One way to easily link the sections to the help is to map the slug of each section to
the help verb. So if we have the slug "templates" then `glazed help templates` would render
that documentation page.

Individual command line flags would allow us to toggle tags on and off, so for example:

```shell
glazed help templates --examples
```

would render the sections and subsections of "templates" that have the tag examples. 
This would actually use the glamour library if we want to use markdown.

### Data schema sketch

```plantuml
class Section {
   title
   slug
   content
   subsections
   tags
}
```

Tags are there to make it easy to group sections for different contexts, for example
code usage sections would have code tags, etc...

This is in order to make it easy to rearrange the documentation in different ways.

### Mapping markdown files to the data schema

Each markdown file is a single section. There is a yaml frontmatter that contains:

- slug
- title
- parent sections (because we should be able to link one section to multiple parents)
- tags